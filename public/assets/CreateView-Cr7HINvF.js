import{d as v,r as n,c as b,a as t,z as i,A as d,u as _,f as c,j as p,g as h,h as x,k as U,o as g,_ as y}from"./index-DjZ0-uLA.js";const C={class:"page"},D={class:"content"},k={class:"card"},V={class:"form-group"},w={class:"form-group"},I=v({__name:"CreateView",setup(T){const l=_(),a=n(""),o=n(""),u=()=>{confirm("編集内容は保存されません。キャンセルしますか？")&&l.push("/dashboard")},m=async()=>{if(c.currentUser){if(!a.value.trim()){alert("テンプレート名を入力してください");return}try{const r={id:crypto.randomUUID(),title:"ステップ 1",order:1,systemPrompt:"",firstMessageTemplate:"",referenceDocuments:[],artifactGenerationPrompt:""},e=crypto.randomUUID(),s={id:e,title:a.value.trim(),description:o.value.trim(),createdAt:p(),updatedAt:p(),isPublished:!1,steps:[r]},f=h(x,`users/${c.currentUser.uid}/projectTemplates/${e}`);await U(f,s),l.push(`/template/edit/${e}`)}catch(r){console.error("テンプレート保存エラー:",r),alert("テンプレートの保存に失敗しました")}}};return(r,e)=>(g(),b("div",C,[t("header",{class:"header"},[e[2]||(e[2]=t("h1",null,"プロジェクトテンプレートの作成",-1)),t("div",{class:"d-flex gap-md"},[t("button",{class:"btn btn-gray",onClick:u},"キャンセル"),t("button",{class:"btn btn-success",onClick:m},"保存")])]),t("div",D,[t("div",k,[t("div",V,[e[3]||(e[3]=t("label",{class:"form-label"},"テンプレート名",-1)),i(t("input",{type:"text",class:"form-input","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),placeholder:"テンプレート名を入力"},null,512),[[d,a.value]])]),t("div",w,[e[4]||(e[4]=t("label",{class:"form-label"},"説明",-1)),i(t("textarea",{class:"form-textarea","onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s),placeholder:"テンプレートの説明を入力"},null,512),[[d,o.value]])])])])]))}}),B=y(I,[["__scopeId","data-v-b8a18769"]]);export{B as default};
